#include <stdio.h>

void generatekey(char *user, int *sum1, int *sum2) {

unsigned char magictable[] = {
0x0B,0x06,0x11,0x0C,0x0C,0x0E,0x05,0x0C,
0x10,0x0A,0x0B,0x06,0x0E,0x0E,0x04,0x0B,
0x06,0x0E,0x0E,0x04,0x0B,0x09,0x0C,0x0B,
0x0A,0x08,0x0A,0x0A,0x10,0x08,0x04,0x06,
0x0A,0x0C,0x10,0x08,0x0A,0x04,0x10,0x00};

int i=0;

*sum1=0; *sum2=0;

for(i=3;i<strlen(user);i++) *sum1+=user[i]*magictable[(i-3)%39];
for(i=3;i<strlen(user);i++) *sum2+=user[i]*user[i-1]*magictable[(i-3)%39];

}

int main() {

int suma,sumb;
char string[32];

printf("Enter username: ");

scanf("%s", &string);

generatekey(string, &suma, &sumb);

printf("Valid serial: %d-%d\n", suma, sumb);

return 0;

}
